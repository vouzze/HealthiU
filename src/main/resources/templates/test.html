<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
    <!--    <link rel="stylesheet" href="css/style.css">-->
    <link th:href="@{/css/style.css}" rel="stylesheet" type="text/css">
    <link rel = "icon" type = "image/png" th:href = "@{/img/clipboard-heart-fill.svg}">
    <title>HealthiU | Тест</title>
</head>

<body>
<nav sec:authorize="isAuthenticated() && !hasAuthority('ADMIN')" class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="/test">Healthi<coloru>U</coloru></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                aria-controls="offcanvasNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
             aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Healthi<coloru>U</coloru></h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <div class="offcanvas-body">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/test">Тест</a>
                    </li>
                    <span class="nav-item-divider"></span>
                    <li class="nav-item">
                        <a class="nav-link" href="/chatroom">Повідомлення</a>
                    </li>
                    <span class="nav-item-divider"></span>
                    <li class="nav-item">
                        <a class="nav-link" href="/profile">Мій профіль</a>
                    </li>
                    <span class="nav-item-divider"></span>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript: document.logoutForm.submit()">Вийти</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<nav sec:authorize="isAuthenticated() && hasAuthority('ADMIN')" class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="/test">Healthi<coloru>U</coloru></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                aria-controls="offcanvasNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
             aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Healthi<coloru>U</coloru></h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <div class="offcanvas-body">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/test">Тест</a>
                    </li>
                    <span class="nav-item-divider"></span>
                    <li class="nav-item">
                        <a class="nav-link" href="/chatroom">Чати</a>
                    </li>
                    <span class="nav-item-divider"></span>
                    <li class="nav-item">
                        <a class="nav-link" href="/admin-register">Реєстрація</a>
                    </li>
                    <span class="nav-item-divider"></span>
                    <li class="nav-item">
                        <a class="nav-link" href="/profile">Мій профіль</a>
                    </li>
                    <span class="nav-item-divider"></span>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript: document.logoutForm.submit()">Вийти</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<nav sec:authorize="isAnonymous()" class="navbar navbar-expand-lg">
    <div class="container-fluid">
        <a class="navbar-brand" href="/test">Healthi<coloru>U</coloru></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar"
                aria-controls="offcanvasNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
             aria-labelledby="offcanvasNavbarLabel">
            <div class="offcanvas-header">
                <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Healthi<coloru>U</coloru></h5>
                <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close">
                    <i class="bi bi-x-lg"></i>
                </button>
            </div>
            <div class="offcanvas-body">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" aria-current="page" href="/register">Зареєструватись</a>
                    </li>
                    <span class="nav-item-divider"></span>
                    <li class="nav-item">
                        <a class="nav-link" href="/login">Ввійти</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<form id="test_form" class="page-template text-center test-template" th:action="@{/test/result}"
      th:object="${testData}" method="post">
    <div id="part0">
        <div class="page-title">Тест</div>
        <hr />
        <div class="page-content">
            <div class="start-test-page">
                <div class="question">Пройшовши цей тест, Ви дізнаєтесь про стан свого здоров’я, а точніше - чи Ваша
                    вага в нормі. Отримаєте рекомендацію стосовно того, що і скільки Ви маєте їсти, щоб підтримувати
                    своє тіло в хорошій формі.

                    <br><br>Якщо хочете зберегти результат, Вам потрібно спочатку ввійти в свій акаунт!</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання."
                     src="https://www.studyinhongkong.edu.hk/en/images/page-images/liveinhk-health-and-safety.jpg"></img>
            </div>
            <div class="two-btn-row">
                <button id="start_part0" class="btn btn-primary btn-lg">Почати тест</button>
            </div>
        </div>
    </div>
    <div id="part1" class="hidden">
        <div class="page-title">1 частина</div>
        <hr />
        <div class="page-content">
            <div>
                <div class="question">Вкажіть свою стать</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання."
                     src="https://www.idi.no/images/Joomla_Featured_Images_for_blog_posts_3.jpg"></img>
            </div>
            <div>
                <ul class="radio-row">
                    <li th:each="gender : ${allGenders}" class="list-group-item">
                        <input class="form-check-input" type="radio" th:field="*{gender}" th:value="${gender}" />
                        <label th:for="${#ids.prev('gender')}" th:text="${gender}">MALE</label>
                    </li>
                </ul>
            </div>
            <div class="two-btn-row">
                <button id="previous_part1" class="btn btn-primary btn-lg disabled">Попередня</button>
                <button id="next_part1" class="btn btn-primary btn-lg">Наступна</button>
            </div>
        </div>
    </div>
    <div id="part2" class="hidden">
        <div class="page-title">2 частина</div>
        <hr />
        <div class="page-content">
            <div>
                <div class="question">Вкажіть свій вік</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання." src="https://www.sciencenews.org/wp-content/uploads/2015/12/122615_4_feat.jpg"></img>
            </div>
            <div class="test-input">
                <input id="age" class="form-control" type="number" th:field="*{age}" name="age" />
                <div id="error_age" class="invalid-input"> </div>
            </div>
            <div class="two-btn-row">
                <button id="previous_part2" class="btn btn-primary btn-lg">Попередня</button>
                <button id="next_part2" class="btn btn-primary btn-lg">Наступна</button>
            </div>
        </div>
    </div>
    <div id="part3" class="hidden">
        <div class="page-title">3 частина</div>
        <hr />
        <div class="page-content">
            <div>
                <div class="question">Вкажіть свій ріст (в сантиметрах, см)</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання." src="https://post.medicalnewstoday.com/wp-content/uploads/sites/3/2020/02/321132_2200-1200x628.jpg"></img>
            </div>
            <div class="test-input">
                <input id="height" class="form-control" type="text" th:field="*{height}" name="height"/>
                <div id="error_height" class="invalid-input"> </div>
            </div>
            <div class="two-btn-row">
                <button id="previous_part3" class="btn btn-primary btn-lg">Попередня</button>
                <button id="next_part3" class="btn btn-primary btn-lg">Наступна</button>
            </div>
        </div>
    </div>
    <div id="part4" class="hidden">
        <div class="page-title">4 частина</div>
        <hr />
        <div class="page-content">
            <div>
                <div class="question">Вкажіть свою вагу (в кілограмах, кг)</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання." src="https://static.independent.co.uk/s3fs-public/thumbnails/image/2017/12/03/13/weighing-scales.jpg?quality=75&width=1200&auto=webp"></img>
            </div>
            <div class="test-input">
                <input id="weight" class="form-control" type="text" th:field="*{weight}" name="weight"/>
                <div id="error_weight" class="invalid-input"> </div>
            </div>
            <div class="two-btn-row">
                <button id="previous_part4" class="btn btn-primary btn-lg">Попередня</button>
                <button id="next_part4" class="btn btn-primary btn-lg">Наступна</button>
            </div>
        </div>
    </div>
    <div id="part5" class="hidden">
        <div class="page-title">5 частина</div>
        <hr />
        <div class="page-content">
            <div>
                <div class="question">Вкажіть обхват грудей (в сантиметрах, см)</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання." src="https://issbpsychologist.com/wp-content/uploads/2021/03/chest-measure.jpg"></img>
            </div>
            <div class="test-input">
                <input id="chest_size" class="form-control" type="text" th:field="*{chestSize}" name="chestSize"/>
                <div id="error_chest_size" class="invalid-input"> </div>
            </div>
            <div class="two-btn-row">
                <button id="previous_part5" class="btn btn-primary btn-lg">Попередня</button>
                <button id="next_part5" class="btn btn-primary btn-lg">Наступна</button>
            </div>
        </div>
    </div>
    <div id="part6" class="hidden">
        <div class="page-title">6 частина</div>
        <hr />
        <div class="page-content">
            <div>
                <div class="question">Вкажіть обхват талії (в сантиметрах, см)</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання." src="https://www.yorkshireeveningpost.co.uk/images-i.jpimedia.uk/imagefetch/https://jpgreatcontent.co.uk/wp-content/uploads/2022/04/AdobeStock_442423267.jpeg?width=2048&enable=upscale"></img>
            </div>
            <div class="test-input">
                <input id="waist_size" class="form-control" type="text" th:field="*{waistSize}" name="waistSize"/>
                <div id="error_waist_size" class="invalid-input"> </div>
            </div>
            <div class="two-btn-row">
                <button id="previous_part6" class="btn btn-primary btn-lg">Попередня</button>
                <button id="next_part6" class="btn btn-primary btn-lg">Наступна</button>
            </div>
        </div>
    </div>
    <div id="part7" class="hidden">
        <div class="page-title">7 частина</div>
        <hr />
        <div class="page-content">
            <div>
                <div class="question">Вкажіть обхват стегон (в сантиметрах, см)</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання." src="https://www.verywellfit.com/thmb/zFwaBybHXLH9WgDS1501kliNOHE=/2000x1125/smart/filters:no_upscale()/GettyImages-90199918-589535543df78caebc3dff41.jpg"></img>
            </div>
            <div class="test-input">
                <input id="hip_size" class="form-control" type="text" th:field="*{hipSize}" name="hipSize"/>
                <div id="error_hip_size" class="invalid-input"> </div>
            </div>
            <div class="two-btn-row">
                <button id="previous_part7" class="btn btn-primary btn-lg">Попередня</button>
                <button id="next_part7" class="btn btn-primary btn-lg">Наступна</button>
            </div>
        </div>
    </div>
    <div id="part8" class="hidden">
        <div class="page-title">8 частина</div>
        <hr />
        <div class="page-content">
            <div>
                <div class="question">Вкажіть групу крові (О = 1, А = 2, В = 3, АВ = 4)</div>
                <img class="img-fluid picture" alt="Зображення-допомога до питання." src="https://loopnewslive.blob.core.windows.net/liveimage/sites/default/files/2020-07/z6OiJBamGI.jpg"></img>
            </div>
            <div class="test-input">
                <select th:field="*{bloodType}" class="form-control form-select form-select-lg mb-3">
                    <option th:each="bloodType : ${allBloodTypes}" th:value="${bloodType}" th:text="${bloodType}" >O</option>
                </select>
            </div>
            <div class="two-btn-row">
                <button id="previous_part8" class="btn btn-primary btn-lg">Попередня</button>
                <input type="submit" class="btn btn-primary btn-lg" value="Завершити" />
            </div>
        </div>
    </div>
</form>
<form name="logoutForm" th:action="@{/logout}" method="post" th:hidden="true">
    <input type="submit" value="Sign Out"/>
</form>
<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
<!--<script th:inline="javascript">-->
<!--</script>-->
<script th:src="@{/js/script.js}"></script>
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"
></script>
</body>
</html>